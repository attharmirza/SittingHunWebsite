<html>

{% include info.html %}

<body>
  {% include navigation.html %}
  <div class="content">
    {% include menu.html %}
    <div class="container">
      <div class="grid">
        <div class="grid-sizer"></div>
        {% assign sorted_projects = site.projects | sort:"position" %} {% for project in sorted_projects %}
        <a href="{{ site.url }}{{ site.baseurl }}{{ project.url }}">
          <div class="grid-item">
            <div class="projectShadow">
              <div class="project{% for item in project.categories %} {{ item }}{% endfor %}">
                <img src="{{ site.url }}{{ site.baseurl }}{{ project.cover-image }}" />
                <div class="projectImageTint"></div>
                <div class="projectTitle">
                  <p>{{ project.title }}</p>
                  <p class="projectDate">{{ project.date | date: "%m.%d.%Y" }}</p>
                </div>
              </div>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>

  <script src="{{ site.url }}{{ site.baseurl }}/scripts/jquery.masonry.js" type="text/javascript"></script>
  <script src="{{ site.url }}{{ site.baseurl }}/scripts/jquery.plate.js" type="text/javascript"></script>
  <script>
    var loadGrid = function() {
      $('.grid').masonry({
        itemSelector: '.grid-item',
        columnWidth: '.grid-sizer',
        percentPosition: true,
        gutter: 30,
        transitionDuration: 150
      });
    }

    $(document).ready(function() {
      loadGrid();

      if ($(window).width() > 900) {
        $('.project').plate({
          inverse: true,
          perspective: 1500,
          maxRotation: 7
        });

        $('.projectShadow').plate({
          inverse: false,
          perspective: 750,
          maxRotation: 8
        });
      }
    });
  </script>
</body>

</html>
